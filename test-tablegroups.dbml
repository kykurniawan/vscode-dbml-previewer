Project sample_project {
  database_type: 'PostgreSQL'
  Note: '''
    # Sample DBML Project with TableGroups
    Testing TableGroup functionality
  '''
}

// E-commerce related tables
TableGroup e_commerce {
  merchants
  countries
  products
  
  Note: 'Core e-commerce tables'
}

// User management tables
TableGroup user_management {
  users
  user_profiles
  
  Note: 'User-related tables'
}

Table merchants {
  id integer [primary key, increment]
  name varchar(100) [not null]
  country_id integer [ref: > countries.id]
  created_at timestamp [default: `now()`]
}

Table countries {
  id integer [primary key, increment]
  name varchar(100) [not null, unique]
  code varchar(3) [not null, unique]
}

Table products {
  id integer [primary key, increment]
  name varchar(200) [not null]
  merchant_id integer [ref: > merchants.id]
  price decimal(10,2)
  created_at timestamp [default: `now()`]
}

Table users {
  id integer [primary key, increment]
  username varchar(50) [not null, unique]
  email varchar(100) [not null, unique]
  created_at timestamp [default: `now()`]
}

Table user_profiles {
  id integer [primary key, increment]
  user_id integer [ref: - users.id]
  first_name varchar(50)
  last_name varchar(50)
  bio text
}

// Table outside any group
Table orders {
  id integer [primary key, increment]
  user_id integer [ref: > users.id]
  merchant_id integer [ref: > merchants.id]
  total decimal(10,2)
  created_at timestamp [default: `now()`]
}