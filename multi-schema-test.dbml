Project multi_schema_test {
  database_type: 'PostgreSQL'
  Note: 'Testing multiple schema support'
}

// Public schema tables (default)
Table users {
  id integer [primary key]
  username varchar [unique]
  email varchar [unique]
  created_at timestamp
}

Table posts {
  id integer [primary key]
  title varchar
  content text
  author_id integer [ref: > users.id]
  created_at timestamp
}

// Core schema tables
Table core.settings {
  id integer [primary key]
  setting_name varchar [unique]
  setting_value text
  updated_by integer
  updated_at timestamp
}

Table core.audit_log {
  id integer [primary key]
  table_name varchar
  record_id integer
  action varchar
  user_id integer [ref: > users.id]
  timestamp timestamp
}

// Analytics schema tables
Table analytics.page_views {
  id integer [primary key]
  user_id integer [ref: > users.id]
  page_url varchar
  timestamp timestamp
  session_id varchar
}

Table analytics.user_sessions {
  id integer [primary key]
  session_id varchar [unique]
  user_id integer [ref: > users.id]
  start_time timestamp
  end_time timestamp
}

// Cross-schema relationships
Ref: analytics.page_views.session_id > analytics.user_sessions.session_id
Ref: core.settings.updated_by > users.id